# 安全相关

## WebUI 安全与一些冷知识

WebUI 的安全性设计较为完善，具体特性如下：

- 鉴权过程全程使用 SHA256 加盐处理，有效避免密钥泄露风险
- 对来源 IP 实施限速控制，防止暴力破解
- 基于时间的 HMAC 密钥动态生成机制，确保鉴权在重启后立即失效
- 可通过将端口设置为 0 完全关闭网页面板，关闭后可安全删除 `./static/` 静态资源
- 终端控制功能可通过删除 `./pty/` 目录完全禁用
- 支持 SSL 加密，只需在 `./config/` 目录添加 `cert.pem` 与 `key.pem` 文件并重启即可生效

::: warning
在 **v4.8.106 以下版本**，NapCat WebUI 默认使用弱密码（密钥为 `napcat`）。  
若部署在公网环境中，请务必立即修改密码或关闭 WebUI，以避免安全风险。  

从 **v4.8.106 及以上版本**开始，已取消固定默认密码机制。  
- WebUI 会在启动时生成随机密码（Token）；  
- 该随机密码会在 **启动日志** 中显示，同时也会发送至 **登录账号本身的私聊**（即机器人号自身）；  
- 若未启用 WebUI，则不会发送任何相关信息。  
:::

## OneBot 接口安全

1. **服务端工作模式**：NapCat 作为服务端，鉴权由 NapCat 负责提供来源验证。

2. **客户端工作模式**：NapCat 作为客户端，鉴权由外部服务端负责提供来源验证。

> **重要提示**：如果采用服务端工作模式且未配置鉴权，将应用暴露在公网环境中会带来严重安全风险。

## QQ 账号安全性

- 避免在同一 IP/设备上同时登录 Bot 账号与常用账号，以防常用账号受到异常影响
- 频繁掉线问题可通过更换账号或设备来有效改善
- 遇到社交风控时，解除限制后重新运行即可，此类限制通常不会频繁触发
- 如无法更换账号或设备，可尝试在配置中将 `o3Hook` 设置为 0 以关闭包拦截
- 网络环境复杂导致登录困难时，可联系云服务商更换 IP 或重新拨号，或通过设置环境变量 `NAPCAT_PROXY_ADDRESS = 127.0.0.1` 与 `NAPCAT_PROXY_PORT = 80` 配置 SOCKS5 代理

## NapCat 卸载与残留风险

- **Windows 环境**：只需删除 NapCat 目录即可完全卸载，不会产生残留文件，且不影响 QQ 的更新或卸载
- **Linux 环境**：Docker 方案不会对设备造成残留问题；直接本机安装的情况下，重装 QQ 即可完成卸载
