<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>NapCat Â· MockInstall</title>
    <style>
        :root {
            --mist: #1e293b;
            --terminal-bg: #111827;
            --terminal-border: #334155;

            --bg: linear-gradient(145deg, #ffffff 0%, #f7fafc 100%);
            --text: #1e293b;
            --sub: #64748b;

            /* å†°è“å¼ºè°ƒ */
            --accent: #0ea5e9;
            --accent-light: #38bdf8;

            /* æ¯›ç»ç’ƒå¡ç‰‡èƒŒæ™¯ */
            --glass: rgba(255, 255, 255, 0.55);
            --glass-border: rgba(255, 255, 255, 0.3);

            /* çŠ¶æ€è‰² */
            --success: #10b981;
            --error: #f43f5e;
            --warning: #f59e0b;
            --progress: #8b5cf6;

            /* åœ†è§’ç»Ÿä¸€ */
            --radius: 16px;
            --radius-btn: 999px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            -webkit-text-size-adjust: 100%;
        }

        main {
            flex: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
            width: 100%;
        }

        @media (min-width: 768px) {
            main {
                padding: 0 2rem;
            }
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 0;
        }

        @media (min-width: 768px) {
            header {
                padding: 2.5rem 0;
            }
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent);
            letter-spacing: .05em;
        }

        @media (min-width: 768px) {
            .logo {
                font-size: 1.8rem;
            }
        }

        nav a {
            margin-left: 1rem;
            color: var(--sub);
            text-decoration: none;
            font-size: .9rem;
            transition: color .25s;
        }

        @media (min-width: 768px) {
            nav a {
                margin-left: 2rem;
                font-size: .95rem;
            }
        }

        nav a:hover {
            color: var(--accent)
        }

        .hero {
            margin: 2rem 0;
            text-align: center;
        }

        @media (min-width: 768px) {
            .hero {
                margin: 4rem 0;
            }
        }

        .hero h1 {
            font-size: clamp(1.8rem, 6vw, 3.2rem);
            font-weight: 600;
            letter-spacing: .02em;
        }

        .hero p {
            font-size: 1rem;
            color: var(--sub);
            margin: .75rem 0 2rem;
        }

        @media (min-width: 768px) {
            .hero p {
                font-size: 1.15rem;
                margin: .75rem 0 2.5rem;
            }
        }

        .btn {
            display: inline-block;
            padding: .75rem 1.8rem;
            border-radius: var(--radius-btn);
            font-weight: 600;
            text-decoration: none;
            transition: all .3s cubic-bezier(.4, 0, .2, 1);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            font-size: .95rem;
        }

        @media (min-width: 768px) {
            .btn {
                padding: .9rem 2.4rem;
                font-size: 1rem;
            }
        }

        .btn:before {
            /*  å…‰æ™•  */
            content: '';
            position: absolute;
            inset: 0;
            border-radius: inherit;
            padding: 1.5px;
            background: linear-gradient(45deg, var(--accent), var(--accent-light));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity .3s;
        }

        .btn:hover:before {
            opacity: 1
        }

        .btn:hover {
            transform: translateY(-3px) scale(1.03)
        }

        .btn.primary {
            background: var(--glass);
            color: var(--accent);
            border: 1px solid var(--glass-border);
        }

        .btn.secondary {
            background: var(--glass);
            color: var(--text);
            margin-left: 1rem;
            border: 1px solid var(--glass-border);
        }

        .btn.secondary:hover {
            color: var(--accent)
        }

        #terminal {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
            padding: 1rem;
            margin: 2rem 0;
            font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
            font-size: .85rem;
            line-height: 1.5;
            white-space: pre-wrap;
            word-break: break-word;
            box-shadow: 0 8px 32px rgba(0, 0, 0, .04);
            min-height: 200px;
            max-height: 60vh;
            overflow-y: auto;
            display: none;
            width: 100%;
        }

        @media (min-width: 768px) {
            #terminal {
                padding: 1.5rem;
                margin: 3rem 0;
                font-size: .95rem;
                max-width: 100%;
            }
        }

        .cmd {
            color: var(--accent);
        }

        .output {
            color: #9ca3af;
        }

        .success {
            color: var(--success);
        }

        .error {
            color: var(--error);
        }

        .warning {
            color: var(--warning);
        }

        .progress-text {
            color: var(--progress);
        }

        .cursor {
            display: inline-block;
            background: var(--accent);
            width: 6px;
            height: 14px;
            animation: blink 1s infinite;
        }

        @media (min-width: 768px) {
            .cursor {
                width: 8px;
                height: 16px;
            }
        }

        @keyframes blink {

            0%,
            50% {
                opacity: 1;
            }

            51%,
            100% {
                opacity: 0;
            }
        }

        .terminal-line {
            margin-bottom: 4px;
            opacity: 0;
            animation: fadeIn 0.3s ease-in forwards;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        #terminal::-webkit-scrollbar {
            width: 6px
        }

        #terminal::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px
        }


        .platform-selector {
            display: flex;
            justify-content: center;
            gap: .75rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        @media (min-width: 768px) {
            .platform-selector {
                gap: 1rem;
            }
        }

        .platform-btn {
            padding: .5rem 1rem;
            border-radius: var(--radius-btn);
            border: 1px solid var(--glass-border);
            background: var(--glass);
            color: var(--sub);
            cursor: pointer;
            transition: all .25s;
            backdrop-filter: blur(8px);
            font-size: .85rem;
        }

        @media (min-width: 768px) {
            .platform-btn {
                padding: .55rem 1.2rem;
                font-size: .95rem;
            }
        }

        .platform-btn:hover,
        .platform-btn.active {
            background: var(--accent);
            color: #fff;
            border-color: var(--accent);
            transform: translateY(-2px);
        }

        /* è¿›åº¦æ¡æ ·å¼ */
        .progress-container {
            width: 100%;
            border-radius: 4px;
            margin: 5px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 6px;
            background-color: var(--accent);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: var(--sub);
            margin-top: 2px;
        }

        @media (min-width: 768px) {
            .progress-info {
                font-size: 0.8rem;
            }
        }

        .progress-percent {
            color: var(--accent);
            font-weight: bold;
        }

        /* åŠ¨æ€æ–‡æœ¬æ•ˆæœ */
        .typing-text {
            display: inline-block;
            overflow: hidden;
            white-space: nowrap;
            border-right: 2px solid var(--accent);
            animation: typing 0.5s steps(40, end), blink-caret 0.75s step-end infinite;
        }

        @keyframes typing {
            from {
                width: 0;
            }

            to {
                width: 100%;
            }
        }

        @keyframes blink-caret {

            from,
            to {
                border-color: transparent;
            }

            50% {
                border-color: var(--accent);
            }
        }

        /* å¤šè¡ŒåŒæ—¶æ˜¾ç¤º */
        .multi-line {
            display: flex;
            flex-direction: column;
        }

        .multi-line .terminal-line {
            animation-delay: calc(var(--line-index) * 0.1s);
        }

        .terminal-controls {
            display: flex;
            justify-content: center;
            gap: .75rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        @media (min-width: 768px) {
            .terminal-controls {
                gap: 1rem;
                margin-bottom: 4rem;
            }
        }

        .logo-art {
            color: var(--accent);
            font-family: monospace;
            white-space: pre;
            line-height: 1.2;
            margin: 1rem 0;
            text-align: center;
            font-size: .8rem;
        }

        @media (min-width: 768px) {
            .logo-art {
                font-size: 1rem;
            }
        }

        .timestamp {
            color: var(--sub);
            font-size: 0.75rem;
        }

        @media (min-width: 768px) {
            .timestamp {
                font-size: 0.85rem;
            }
        }

        footer {
            margin-top: auto;
            padding: 1.5rem 0;
            text-align: center;
            font-size: .8rem;
            color: var(--sub);
        }

        @media (min-width: 768px) {
            footer {
                padding: 2.5rem 0;
                font-size: .9rem;
            }
        }

        footer a {
            color: var(--accent);
            text-decoration: none
        }

        footer a:hover {
            text-decoration: underline
        }
    </style>
</head>

<body>
    <main>
        <header>
            <div class="logo">NapCat</div>
            <nav>
                <a href="#features">ç‰¹æ€§</a>
                <a href="https://napneko.github.io/" target="_blank">æ–‡æ¡£</a>
                <a href="https://github.com/NapNeko/NapCatQQ/releases" target="_blank">å‘å¸ƒ</a>
            </nav>
        </header>

        <section class="hero">
            <h1>åŸºäº NTQQ Bot æ¡†æ¶</h1>
            <p>é›¶é…ç½®ï¼Œè·¨å¹³å°ï¼Œ100 MB å¸¸é©»å†…å­˜ã€‚</p>
            <a class="btn primary" id="installBtn">é€‰æ‹©å¹³å°å®‰è£…ä½“éªŒ</a>
            <div class="platform-selector" id="platformSelector" style="display: none;">
                <button class="platform-btn" data-platform="linux">Linux</button>
                <button class="platform-btn" data-platform="windows">Windows</button>
                <button class="platform-btn" data-platform="macos">macOS</button>
            </div>
        </section>

        <section id="terminal">
            <div id="terminal-content"></div>
            <span class="cursor" id="cursor"></span>
        </section>

        <div class="terminal-controls" id="terminalControls" style="display: none;">
            <button class="btn secondary" id="restartBtn">é‡æ–°ä½“éªŒ</button>
            <button class="btn secondary" id="copyBtn">å¤åˆ¶æ—¥å¿—</button>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 NapCat Â· <a href="https://github.com/NapNeko/NapCatQQ" target="_blank">GitHub</a></p>
    </footer>

    <script>
        const installBtn = document.getElementById('installBtn');
        const platformSelector = document.getElementById('platformSelector');
        const terminal = document.getElementById('terminal');
        const terminalContent = document.getElementById('terminal-content');
        const cursor = document.getElementById('cursor');
        const terminalControls = document.getElementById('terminalControls');
        const restartBtn = document.getElementById('restartBtn');
        const copyBtn = document.getElementById('copyBtn');
        let selectedPlatform = null;
        let isInstalling = false;

        // æ ¼å¼åŒ–æ—¥æœŸä¸º YYYY-MM-DD
        function formatDate(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        // æ ¼å¼åŒ–æ—¶é—´ä¸º HH:MM:SS
        function formatTime(date) {
            const hours = String(date.getHours()).padStart(2, '0');
            const minutes = String(date.getMinutes()).padStart(2, '0');
            const seconds = String(date.getSeconds()).padStart(2, '0');
            return `${hours}:${minutes}:${seconds}`;
        }

        // è·å–å½“å‰æ—¥æœŸæ—¶é—´æˆ³
        function getTimestamp() {
            return `[${formatDate(new Date())} ${formatTime(new Date())}]`;
        }

        // å®‰è£…è„šæœ¬é…ç½®
        const installScripts = {
            linux: [
                { type: 'cmd', text: '$ curl -fsSL https://napneko.github.io/install.sh | bash', delay: 0 },
                { type: 'output', text: 'â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”', delay: 100 },
                { type: 'output', text: ' â”‚                                                                       â”‚', delay: 50 },
                { type: 'output', text: ' â”‚â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â”‚', delay: 50 },
                { type: 'output', text: ' â”‚â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•”â•â•â•â•â•    â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â”‚', delay: 50 },
                { type: 'output', text: ' â”‚â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•    â–ˆâ–ˆâ•‘         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘       â–ˆâ–ˆâ•‘   â”‚', delay: 50 },
                { type: 'output', text: ' â”‚â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•”â•â•â•â•     â–ˆâ–ˆâ•‘         â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘       â–ˆâ–ˆâ•‘   â”‚', delay: 50 },
                { type: 'output', text: ' â”‚â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘         â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘       â–ˆâ–ˆâ•‘   â”‚', delay: 50 },
                { type: 'output', text: ' â”‚â•šâ•â•  â•šâ•â•â•â•    â•šâ•â•  â•šâ•â•    â•šâ•â•          â•šâ•â•â•â•â•â•    â•šâ•â•  â•šâ•â•       â•šâ•â•   â”‚', delay: 50 },
                { type: 'output', text: ' â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜', delay: 100 },
                { type: 'output', text: '                      Powered by NapCat-Installer', delay: 200 },
                { type: 'output', text: `${getTimestamp()}: è„šæœ¬æ­£åœ¨ä»¥ root æƒé™è¿è¡Œã€‚`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: é€‰æ‹©å®‰è£…æ–¹å¼: Docker (å®¹å™¨åŒ–) æˆ– Shell (ç›´æ¥å®‰è£…)?`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: è¾“å…¥ 'y' ä½¿ç”¨ Docker, è¾“å…¥ 'n' ä½¿ç”¨ Shellã€‚`, delay: 300 },
                { type: 'output', text: '[y/N] (10ç§’åé»˜è®¤ N): n', delay: 300 },
                { type: 'output', text: `${getTimestamp()}: é€‰æ‹©ä½¿ç”¨ Shell å®‰è£…ã€‚`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: æ˜¯å¦å®‰è£… NapCat TUI-CLI (å‘½ä»¤è¡Œå·¥å…·)?`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: è¾“å…¥ 'y' å®‰è£…, è¾“å…¥ 'n' è·³è¿‡ã€‚`, delay: 300 },
                { type: 'output', text: '[y/N] (10ç§’åé»˜è®¤ N): n', delay: 300 },
                { type: 'output', text: `${getTimestamp()}: é€‰æ‹©æˆ–è¶…æ—¶é»˜è®¤ä¸ºä¸å®‰è£… CLIã€‚`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å¼€å§‹ Shell å®‰è£…æµç¨‹...`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å¼€å§‹æ›´æ–°ä¾èµ–...`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å½“å‰é«˜çº§åŒ…ç®¡ç†å™¨: apt-get`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å½“å‰åŸºç¡€åŒ…ç®¡ç†å™¨: dpkg`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨ä¸­...`, delay: 300 },
                { type: 'success', text: `${getTimestamp()}: æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨ (sudo apt-get update -y -qq)æˆåŠŸ`, delay: 800 },
                { type: 'output', text: `${getTimestamp()}: å®‰è£…zip unzip jq curl xvfb screen xauth procpsä¸­...`, delay: 300 },
                {
                    type: 'progress',
                    text: 'å®‰è£…ä¾èµ–è¿›åº¦',
                    delay: 100,
                    progress: {
                        total: 54,
                        current: 0,
                        speed: 1.5,
                        unit: 'ä¸ªåŒ…'
                    }
                },
                { type: 'success', text: `${getTimestamp()}: å®‰è£…zip unzip jq curl xvfb screen xauth procps (sudo apt-get install -y -qq zip unzip jq curl xvfb screen xauth procps)æˆåŠŸ`, delay: 1000 },
                { type: 'output', text: `${getTimestamp()}: æ›´æ–°ä¾èµ–æˆåŠŸ...`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å¼€å§‹ä¸‹è½½NapCatå®‰è£…åŒ…,è¯·ç¨ç­‰...`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å¼€å§‹ç½‘ç»œæµ‹è¯•: Github...`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å‘½ä»¤è¡Œä¼ å…¥ä»£ç†å‚æ•° (proxy_num_arg): '', æœ¬æ¬¡æµ‹è¯•ç”Ÿæ•ˆè®¾ç½®: '9'`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: æ‰‹åŠ¨æŒ‡å®šä»£ç†: https://jiashu.1win.eu.org`, delay: 300 },
                {
                    type: 'progress',
                    text: 'ä¸‹è½½ NapCat.Shell.zip',
                    delay: 100,
                    progress: {
                        total: 100,
                        current: 0,
                        speed: 5,
                        unit: '%'
                    }
                },
                { type: 'success', text: `${getTimestamp()}: NapCat.Shell.zip æˆåŠŸä¸‹è½½ã€‚`, delay: 500 },
                { type: 'output', text: `${getTimestamp()}: æ­£åœ¨éªŒè¯ NapCat.Shell.zip...`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: æ­£åœ¨è§£å‹ NapCat.Shell.zip...`, delay: 300 },
                {
                    type: 'progress',
                    text: 'è§£å‹è¿›åº¦',
                    delay: 100,
                    progress: {
                        total: 100,
                        current: 0,
                        speed: 3,
                        unit: '%'
                    }
                },
                { type: 'output', text: `${getTimestamp()}: è­¦å‘Š: LinuxQQ çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ (/opt/QQ/resources/app/package.json) æœªæ‰¾åˆ°ã€‚å¯èƒ½å®‰è£…ä¸å®Œæ•´æˆ–å·²æŸåã€‚`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å°†è§¦å‘ LinuxQQ çš„å®‰è£…/é‡è£…æµç¨‹ã€‚`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: æœ€ä½linuxQQç‰ˆæœ¬: 3.2.18-36580, æ„å»º: 36580`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å¼ºåˆ¶é‡è£…æ¨¡å¼...`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: è­¦å‘Š: æœªæ‰¾åˆ°ç°æœ‰ Napcat é…ç½®ç›®å½• (/opt/QQ/resources/app/app_launcher/napcat/config), æ‚¨ä¹‹å‰çš„é…ç½®æ— æ³•æ‰¾åˆ°ã€‚`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: æœªæ£€æµ‹åˆ°å·²å®‰è£…çš„ LinuxQQ æˆ–å…¶æ ¸å¿ƒæ–‡ä»¶, å°†è¿›è¡Œå…¨æ–°å®‰è£…ã€‚`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å½“å‰ç³»ç»Ÿæ¶æ„: amd64`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å®‰è£…LinuxQQ...`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: QQä¸‹è½½é“¾æ¥: https://dldir1.qq.com/qqfile/qq/QQNT/a5fab4ff/linuxqq_3.2.18-36580_amd64.deb`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å¦‚æœæ— æ³•ä¸‹è½½è¯·æ‰‹åŠ¨ä¸‹è½½QQå®‰è£…åŒ…å¹¶é‡å‘½åä¸ºQQ.debæˆ–QQ.rpm(æ³¨æ„è‡ªå·±çš„ç³»ç»Ÿæ¶æ„)æ”¾åˆ°è„šæœ¬åŒç›®å½•ä¸‹`, delay: 300 },
                {
                    type: 'progress',
                    text: 'ä¸‹è½½ QQ å®‰è£…åŒ…',
                    delay: 100,
                    progress: {
                        total: 100,
                        current: 0,
                        speed: 2,
                        unit: '%'
                    }
                },
                { type: 'success', text: `${getTimestamp()}: æ–‡ä»¶ä¸‹è½½æˆåŠŸ`, delay: 800 },
                { type: 'output', text: `${getTimestamp()}: å®‰è£…QQä¸­...`, delay: 300 },
                { type: 'output', text: 'Extracting templates from packages: 100%', delay: 300 },
                { type: 'output', text: 'Selecting previously unselected package dbus-user-session.', delay: 200 },
                { type: 'output', text: '(Reading database ... 59880 files and directories currently installed.)', delay: 200 },
                { type: 'output', text: 'Preparing to unpack .../00-dbus-user-session_1.14.10-4ubuntu4.1_amd64.deb ...', delay: 200 },
                { type: 'output', text: 'Unpacking dbus-user-session (1.14.10-4ubuntu4.1) ...', delay: 200 },
                {
                    type: 'progress',
                    text: 'å®‰è£… QQ è¿›åº¦',
                    delay: 100,
                    progress: {
                        total: 91,
                        current: 0,
                        speed: 1.2,
                        unit: 'ä¸ªæ–‡ä»¶'
                    }
                },
                { type: 'output', text: 'Setting up linuxqq (3.2.18-36580) ...', delay: 800 },
                { type: 'output', text: '/var/lib/dpkg/info/linuxqq.postinst: line 10: update-desktop-database: command not found', delay: 300 },
                { type: 'output', text: 'Processing triggers for libgdk-pixbuf-2.0-0:amd64 (2.42.10+dfsg-3ubuntu3.1) ...', delay: 300 },
                { type: 'success', text: `${getTimestamp()}: å®‰è£…QQ (sudo apt-get install -f -y -qq ./QQ.deb)æˆåŠŸ`, delay: 800 },
                { type: 'output', text: `${getTimestamp()}: å®‰è£…libnss3ä¸­...`, delay: 300 },
                { type: 'success', text: `${getTimestamp()}: å®‰è£…libnss3 (sudo apt-get install -y -qq libnss3)æˆåŠŸ`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å®‰è£…libgbm1ä¸­...`, delay: 300 },
                { type: 'success', text: `${getTimestamp()}: å®‰è£…libgbm1 (sudo apt-get install -y -qq libgbm1)æˆåŠŸ`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å®‰è£…libasound2ä¸­...`, delay: 300 },
                { type: 'error', text: 'E: Package \'libasound2\' has no installation candidate', delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å®‰è£…libasound2 å¤±è´¥`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å°è¯•å®‰è£…libasound2t64ä¸­...`, delay: 300 },
                { type: 'output', text: 'Selecting previously unselected package alsa-topology-conf.', delay: 300 },
                { type: 'output', text: '(Reading database ... 75397 files and directories currently installed.)', delay: 300 },
                { type: 'output', text: 'Preparing to unpack .../alsa-topology-conf_1.2.5.1-2_all.deb ...', delay: 300 },
                { type: 'output', text: 'Unpacking alsa-topology-conf (1.2.5.1-2) ...', delay: 300 },
                { type: 'output', text: 'Setting up libasound2t64:amd64 (1.2.11-1ubuntu0.1) ...', delay: 800 },
                { type: 'output', text: 'Processing triggers for libc-bin (2.39-0ubuntu8.4) ...', delay: 300 },
                { type: 'success', text: `${getTimestamp()}: å®‰è£…libasound2 æˆåŠŸ`, delay: 500 },
                { type: 'output', text: `${getTimestamp()}: æ­£åœ¨æ›´æ–°ç”¨æˆ·QQé…ç½®...`, delay: 300 },
                { type: 'success', text: `${getTimestamp()}: æ›´æ–°ç”¨æˆ·QQé…ç½®æˆåŠŸ...`, delay: 400 },
                { type: 'output', text: `${getTimestamp()}: ä¹‹å‰æœªåˆ›å»ºå¤‡ä»½, æ— éœ€æ¢å¤é…ç½®ã€‚`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: æœ€æ–°NapCatQQç‰ˆæœ¬: v4.8.93`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å¼ºåˆ¶é‡è£…æ¨¡å¼...`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: æ­£åœ¨ç§»åŠ¨æ–‡ä»¶...`, delay: 300 },
                { type: 'success', text: `${getTimestamp()}: ç§»åŠ¨æ–‡ä»¶æˆåŠŸ`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: æ­£åœ¨ä¿®è¡¥æ–‡ä»¶...`, delay: 300 },
                { type: 'success', text: `${getTimestamp()}: ä¿®è¡¥æ–‡ä»¶æˆåŠŸ`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: æ­£åœ¨ä¿®æ”¹QQå¯åŠ¨é…ç½®...`, delay: 300 },
                { type: 'success', text: `${getTimestamp()}: ä¿®æ”¹QQå¯åŠ¨é…ç½®æˆåŠŸ...`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: è·³è¿‡å®‰è£…/æ›´æ–° TUI-CLI (ç”¨æˆ·æœªé€‰æ‹©æˆ–ä½¿ç”¨ --cli n)ã€‚`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}:`, delay: 300 },
                { type: 'success', text: '---------------- Shell å®‰è£…å®Œæˆ ----------------', delay: 300 },
                { type: 'output', text: `${getTimestamp()}:`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å¯åŠ¨ Napcat (éœ€è¦å›¾å½¢ç¯å¢ƒæˆ– Xvfb):`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}:   sudo xvfb-run -a qq --no-sandbox`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}:`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: åå°è¿è¡Œ Napcat (ä½¿ç”¨ screen)(è¯·ä½¿ç”¨ root è´¦æˆ·):`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}:   å¯åŠ¨: screen -dmS napcat bash -c "xvfb-run -a qq --no-sandbox"`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}:   å¸¦è´¦å·å¯åŠ¨: screen -dmS napcat bash -c "xvfb-run -a qq --no-sandbox -q QQå·ç "`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}:   é™„åŠ åˆ°ä¼šè¯: screen -r napcat (æŒ‰ Ctrl+A ç„¶åæŒ‰ D åˆ†ç¦»)`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}:   åœæ­¢ä¼šè¯: screen -S napcat -X quit`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}:`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: Napcat ç›¸å…³ä¿¡æ¯:`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}:   å®‰è£…ä½ç½®: /opt/QQ/resources/app/app_launcher/napcat`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}:   WebUI Token: æŸ¥çœ‹ /opt/QQ/resources/app/app_launcher/napcat/config/webui.json æ–‡ä»¶è·å–`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}:`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: æœªå®‰è£… TUI-CLI å·¥å…·ã€‚å¦‚éœ€ä½¿ç”¨ä¾¿æ·å‘½ä»¤ç®¡ç†, è¯·é‡æ–°è¿è¡Œå®‰è£…è„šæœ¬å¹¶é€‰æ‹©å®‰è£… TUI-CLI (--cli y)ã€‚`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: --------------------------------------------------`, delay: 300 },
                { type: 'success', text: `${getTimestamp()}: Shell å®‰è£…æµç¨‹å®Œæˆã€‚`, delay: 300 },
                { type: 'cmd', text: '@MliKiowa âœ /workspaces/NapCat-Installer (main) $ sudo xvfb-run -a qq --no-sandbox', delay: 0 },
                { type: 'output', text: 'not mini app.', delay: 300 },
                { type: 'output', text: '[preload] succeeded. /opt/QQ/resources/app/major.node', delay: 300 },
                { type: 'output', text: '[preload] succeeded. /opt/QQ/resources/app/major.node', delay: 300 },
                { type: 'error', text: '[40063:0711/132646.970298:ERROR:bus.cc(407)] Failed to connect to the bus: Failed to connect to socket /run/dbus/system_bus_socket: No such file or directory', delay: 300 },
                { type: 'output', text: 'resourcesPath: /opt/QQ/resources', delay: 300 },
                { type: 'error', text: 'error: XDG_RUNTIME_DIR is invalid or not set in the environment.', delay: 300 },
                { type: 'error', text: '[40063:0711/132647.328243:ERROR:bus.cc(407)] Failed to connect to the bus: Failed to connect to socket /run/dbus/system_bus_socket: No such file or directory', delay: 300 },
                { type: 'error', text: '[40063:0711/132647.328361:ERROR:bus.cc(407)] Failed to connect to the bus: Failed to connect to socket /run/dbus/system_bus_socket: No such file or directory', delay: 300 },
                { type: 'error', text: '[40063:0711/132647.332044:ERROR:bus.cc(407)] Failed to connect to the bus: Could not parse server address: Unknown address type (examples of valid types are "tcp" and on UNIX "unix")', delay: 300 },
                { type: 'error', text: '[40063:0711/132647.332132:ERROR:bus.cc(407)] Failed to connect to the bus: Could not parse server address: Unknown address type (examples of valid types are "tcp" and on UNIX "unix")', delay: 300 },
                { type: 'error', text: '[40063:0711/132647.332643:ERROR:bus.cc(407)] Failed to connect to the bus: Could not parse server address: Unknown address type (examples of valid types are "tcp" and on UNIX "unix")', delay: 300 },
                { type: 'error', text: '[40063:0711/132647.332662:ERROR:bus.cc(407)] Failed to connect to the bus: Could not parse server address: Unknown address type (examples of valid types are "tcp" and on UNIX "unix")', delay: 300 },
                { type: 'error', text: '[40063:0711/132647.332674:ERROR:object_proxy.cc(576)] Failed to call method: org.freedesktop.DBus.NameHasOwner: object_path= /org/freedesktop/DBus: unknown error type:', delay: 300 },
                { type: 'error', text: 'error: XDG_RUNTIME_DIR is invalid or not set in the environment.', delay: 300 },
                { type: 'error', text: '[40116:0711/132647.695421:ERROR:viz_main_impl.cc(185)] Exiting GPU process due to errors during initialization', delay: 300 },
                { type: 'output', text: 'NapCat Shell App Loading...', delay: 300 },
                { type: 'output', text: `${getTimestamp()} [info] [NapCat] [Core] NapCat.Core Version: 4.8.93`, delay: 300 },
                { type: 'output', text: `${getTimestamp()} [info] [NapCat] [WebUi] WebUi Local Panel Url: http://127.0.0.1:6099/webui?token=napcat`, delay: 300 },
                { type: 'error', text: 'error: XDG_RUNTIME_DIR is invalid or not set in the environment.', delay: 300 },
                { type: 'error', text: '[40153:0711/132648.050113:ERROR:viz_main_impl.cc(185)] Exiting GPU process due to errors during initialization', delay: 300 },
                { type: 'output', text: `${getTimestamp()} [info] ç­‰å¾…ç½‘ç»œè¿æ¥...`, delay: 300 },
                { type: 'output', text: `${getTimestamp()} [info] ç½‘ç»œå·²è¿æ¥`, delay: 300 },
                { type: 'output', text: `${getTimestamp()} [info] æ²¡æœ‰ -q æŒ‡ä»¤æŒ‡å®šå¿«é€Ÿç™»å½•ï¼Œå°†ä½¿ç”¨äºŒç»´ç ç™»å½•æ–¹å¼`, delay: 300 },
                { type: 'warning', text: `${getTimestamp()} [warn] è¯·æ‰«æä¸‹é¢çš„äºŒç»´ç ï¼Œç„¶ååœ¨æ‰‹Qä¸Šæˆæƒç™»å½•ï¼š`, delay: 300 },
                { type: 'output', text: `${getTimestamp()} [warn]`, delay: 300 },
                { type: 'output', text: 'â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„', delay: 10 },
                { type: 'output', text: 'â–ˆ â–„â–„â–„â–„â–„ â–ˆâ–„â–„â–„ â–€â–„â–ˆâ–ˆ  â–„ â–€â–„â–€â–ˆ â–ˆ â–„â–„â–„â–„â–„ â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆ â–ˆ   â–ˆ â–ˆâ–ˆâ–„â–€ â–ˆ â–€â–„â–„â–ˆâ–„ â–ˆ â–„â–ˆâ–€â–ˆ â–ˆ   â–ˆ â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆ â–ˆâ–„â–„â–„â–ˆ â–ˆâ–ˆâ–€â–„ â–„â–ˆâ–ˆâ–ˆâ–ˆ â–„â–„â–€â–„â–„ â–ˆâ–ˆ â–ˆâ–„â–„â–„â–ˆ â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–„â–„â–„â–„â–„â–„â–„â–ˆ â–€â–„â–ˆ â–€ â–ˆ â–ˆ â–€â–„â–ˆ â–ˆ â–ˆâ–„â–„â–„â–„â–„â–„â–„â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–„ â–€â–„â–„â–€â–„â–€â–ˆâ–„â–€â–ˆâ–„â–ˆâ–ˆâ–€â–€â–€â–ˆâ–€â–€â–€â–„â–ˆâ–„â–ˆâ–„â–€â–€â–ˆâ–€â–€â–„â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–ˆâ–„â–ˆâ–ˆ  â–„â–€â–€â–„â–ˆâ–ˆâ–„â–ˆâ–„ â–ˆ  â–ˆâ–„â–„â–ˆâ–„â–€â–€  â–„â–€â–€â–„â–„â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–€â–€â–€ â–ˆâ–ˆâ–„â–ˆâ–„â–„ â–ˆâ–€â–€â–„  â–„â–ˆ â–ˆâ–ˆ  â–ˆâ–€â–„â–„â–ˆâ–ˆâ–ˆâ–„â–„â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–ˆ â–„  â–€â–„ â–„ â–„â–ˆâ–€â–„â–€ â–„â–„â–ˆ â–€â–„â–ˆâ–ˆ â–€â–„â–ˆ â–ˆâ–€â–ˆâ–€â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–„  â–„â–„â–€â–„â–„â–„â–ˆâ–ˆ â–„â–„  â–€â–€â–„â–ˆâ–€â–ˆâ–„â–ˆâ–ˆâ–„ â–€ â–„â–ˆ  â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–€â–„â–„â–€â–€â–€â–„â–€â–„â–„â–„â–€â–„   â–ˆâ–ˆâ–ˆ â–€â–„ â–„â–ˆâ–ˆâ–€â–ˆâ–„â–ˆâ–€â–€ â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–€â–ˆâ–ˆâ–€  â–„â–ˆ â–„â–ˆâ–„â–€â–ˆâ–ˆâ–€â–„â–ˆâ–ˆ â–ˆâ–„â–€ â–€â–„â–ˆâ–€â–€â–€â–ˆâ–€â–ˆâ–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆ â–ˆâ–„â–€â–„â–ˆâ–„â–„â–€â–ˆâ–€ â–€â–ˆ  â–„ â–„â–ˆâ–ˆâ–ˆâ–€â–„â–€ â–€ â–„â–ˆâ–€â–„â–„â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–„â–„â–„â–„â–„â–ˆâ–„â–ˆ â–„â–€â–„â–„â–€â–„ â–€ â–€ â–ˆâ–€â–„â–ˆ â–„â–„â–„ â–€â–€ â–ˆâ–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆ â–„â–„â–„â–„â–„ â–ˆâ–ˆâ–€â–ˆ â–„â–ˆ  â–ˆâ–„â–„ â–€â–„â–ˆ  â–ˆâ–„â–ˆ â–€ â–ˆâ–€â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆ â–ˆ   â–ˆ â–ˆ â–€â–ˆâ–€ â–„ â–ˆâ–ˆ â–ˆâ–„â–€â–ˆâ–„â–„â–„ â–„â–„â–„â–€â–ˆâ–„â–„â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆ â–ˆâ–„â–„â–„â–ˆ â–ˆâ–€  â–„â–ˆ â–„ â–€â–ˆâ–ˆ â–€â–„â–„â–€â–ˆâ–€â–€â–„   â–€ â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–„â–„â–„â–„â–„â–„â–„â–ˆâ–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–„â–„â–„â–ˆâ–„â–ˆâ–ˆâ–ˆâ–ˆâ–„â–„â–ˆâ–„â–ˆâ–„â–ˆâ–ˆâ–ˆâ–ˆ', delay: 10 },
                { type: 'output', text: 'äºŒç»´ç è§£ç URL: https://txz.qq.com/p?k=xsAD4u95qB-paZQaRP-xFDXW7QKWgOwk&f=1600001615', delay: 300 },
                { type: 'output', text: 'å¦‚æœæ§åˆ¶å°äºŒç»´ç æ— æ³•æ‰«ç ï¼Œå¯ä»¥å¤åˆ¶è§£ç urlåˆ°äºŒç»´ç ç”Ÿæˆç½‘ç«™ç”ŸæˆäºŒç»´ç å†æ‰«ç ï¼Œä¹Ÿå¯ä»¥æ‰“å¼€ä¸‹æ–¹çš„äºŒç»´ç è·¯å¾„å›¾ç‰‡è¿›è¡Œæ‰«ç ã€‚', delay: 300 },
                { type: 'warning', text: `${getTimestamp()} [warn] äºŒç»´ç å·²ä¿å­˜åˆ° /opt/QQ/resources/app/app_launcher/napcat/cache/qrcode.png`, delay: 300 }
            ],
            windows: [
                { type: 'cmd', text: 'C:\\napcat\\> ./NapCatInstaller.exe', delay: 0 },
                { type: 'output', text: '===== NapCat å®‰è£…ç¨‹åº =====', delay: 300 },
                { type: 'output', text: `${getTimestamp()}: æ£€æŸ¥QQå®‰è£…åŒ…...`, delay: 600 },
                { type: 'output', text: `${getTimestamp()}: å¼€å§‹ä¸‹è½½QQ...`, delay: 800 },
                { type: 'output', text: `${getTimestamp()}: HTTPçŠ¶æ€ç : 200`, delay: 400 },
                { type: 'output', text: `${getTimestamp()}: æ–‡ä»¶å¤§å°: 168 MB`, delay: 300 },
                {
                    type: 'progress',
                    text: 'ä¸‹è½½è¿›åº¦',
                    delay: 100,
                    progress: {
                        total: 168,
                        current: 0,
                        speed: 3,
                        unit: 'MB'
                    }
                },
                { type: 'success', text: `${getTimestamp()}: æ–‡ä»¶ä¸‹è½½å®Œæˆ: 168 MB`, delay: 500 },
                { type: 'success', text: `${getTimestamp()}: QQä¸‹è½½æˆåŠŸ`, delay: 400 },
                { type: 'output', text: `${getTimestamp()}: å¼€å§‹è§£å‹QQå®‰è£…åŒ…...`, delay: 600 },
                { type: 'output', text: `${getTimestamp()}: æ‰§è¡Œå‘½ä»¤: .\\7z.exe -oNapCat.34740.Shell x "QQ.exe" -y`, delay: 800 },
                { type: 'output', text: '', delay: 300 },
                { type: 'output', text: '7-Zip 19.00 (x64) : Copyright (c) 1999-2018 Igor Pavlov : 2019-02-21', delay: 200 },
                { type: 'output', text: '', delay: 200 },
                { type: 'output', text: 'Scanning the drive for archives:', delay: 100 },
                { type: 'output', text: '1 file, 176416200 bytes (169 MiB)', delay: 100 },
                { type: 'output', text: '', delay: 100 },
                { type: 'output', text: 'Extracting archive: QQ.exe', delay: 100 },
                { type: 'output', text: '--', delay: 100 },
                { type: 'output', text: 'Path = QQ.exe', delay: 100 },
                { type: 'output', text: 'Type = PE', delay: 100 },
                { type: 'output', text: 'Physical Size = 176416200', delay: 100 },
                { type: 'output', text: 'CPU = x86', delay: 50 },
                { type: 'output', text: 'Characteristics = Executable 32-bit NoRelocs', delay: 50 },
                { type: 'output', text: 'Created = 2025-04-28 02:15:45', delay: 50 },
                { type: 'output', text: 'Headers Size = 1024', delay: 50 },
                { type: 'output', text: 'Checksum = 176443195', delay: 50 },
                { type: 'output', text: 'Image Size = 176427008', delay: 50 },
                { type: 'output', text: 'File Alignment = 512', delay: 50 },
                { type: 'output', text: 'Linker Version = 14.29', delay: 50 },
                { type: 'output', text: 'OS Version = 6.0', delay: 50 },
                { type: 'output', text: 'Subsystem = Windows GUI', delay: 50 },
                { type: 'output', text: 'FileVersion: 9.9.19.34740', delay: 50 },
                { type: 'output', text: 'ProductName: QQ', delay: 50 },
                { type: 'output', text: 'CompanyName: Tencent', delay: 50 },
                { type: 'output', text: '----', delay: 50 },
                { type: 'output', text: 'Path = .rsrc\\2052\\MSI\\101', delay: 50 },
                { type: 'output', text: 'Size = 167680028', delay: 50 },
                { type: 'output', text: 'Type = 7z', delay: 50 },
                { type: 'output', text: 'Method = LZMA:626m BCJ2', delay: 50 },
                {
                    type: 'progress',
                    text: 'è§£å‹è¿›åº¦',
                    delay: 100,
                    progress: {
                        total: 100,
                        current: 0,
                        speed: 2,
                        unit: '%'
                    }
                },
                { type: 'success', text: `${getTimestamp()}: NapCatè§£å‹æˆåŠŸ`, delay: 1000 },
                { type: 'output', text: `${getTimestamp()}: æ­£åœ¨è¿›è¡Œæœ€åçš„é…ç½®...`, delay: 600 },
                { type: 'output', text: `${getTimestamp()}: å‡†å¤‡ä¿®æ”¹package.jsonæ–‡ä»¶...`, delay: 500 },
                { type: 'output', text: `${getTimestamp()}: å·²åˆ›å»ºpackage.jsonå¤‡ä»½`, delay: 400 },
                { type: 'success', text: `${getTimestamp()}: å·²æˆåŠŸå°†å¯åŠ¨è„šæœ¬è·¯å¾„æ›¿æ¢ä¸º ./napcat/napcat.mjs`, delay: 600 },
                { type: 'output', text: `${getTimestamp()}: æ­£åœ¨ä» ./bootmain å¤åˆ¶æ–‡ä»¶åˆ° NapCat.34740.Shell...`, delay: 500 },
                { type: 'output', text: `${getTimestamp()}: å·²å¤åˆ¶: napcat.bat`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å·²å¤åˆ¶: napcat.kill.qq.bat`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å·²å¤åˆ¶: napcat.quick.bat`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å·²å¤åˆ¶: NapCatWinBootHook.dll`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å·²å¤åˆ¶: NapCatWinBootMain.exe`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: å·²å¤åˆ¶: ReadMe.txt`, delay: 300 },
                { type: 'success', text: `${getTimestamp()}: æ–‡ä»¶å¤åˆ¶å®Œæˆ`, delay: 400 },
                { type: 'output', text: '', delay: 300 },
                { type: 'success', text: '===== å®‰è£…å®Œæˆ =====', delay: 500 },
                { type: 'success', text: 'æ¬¢è¿ä½¿ç”¨å“¦~~ åŒå‡»å¯åŠ¨å³å¯', delay: 600 },
                { type: 'output', text: 'Press any key to continue . . .', delay: 800 },
                { type: 'cmd', text: 'C:\\napcat\\NapCat.34740.Shell\\> napcat.bat', delay: 1500 },
                { type: 'output', text: 'Active code page: 65001', delay: 400 },
                { type: 'output', text: 'Usage: .\\NapCatWinBootMain.exe <quickLogin>', delay: 300 },
                { type: 'output', text: 'Boot Command: "C:\\napcat\\NapCat.34740.Shell\\QQ.exe" --enable-logging', delay: 500 },
                { type: 'output', text: `${getTimestamp()}: Main Process ID:27104`, delay: 400 },
                { type: 'output', text: 'Creating pipe: \\\\.\\pipe\\NapCat_27104', delay: 300 },
                { type: 'output', text: `${getTimestamp()}: Process resumed`, delay: 400 },
                { type: 'output', text: 'resourcesPath: C:\\napcat\\NapCat.34740.Shell\\versions\\9.9.19-34740\\resources', delay: 500 },
                { type: 'output', text: 'NapCat Shell App Loading...', delay: 600 },
                { type: 'output', text: `${getTimestamp()}: å·²é‡å®šå‘åˆ°å‘½åç®¡é“: \\.\\pipe\\NapCat_27104`, delay: 400 },
                { type: 'success', text: `${getTimestamp()}: [Core] NapCat.Core Version: 4.8.93`, delay: 500 },
                { type: 'output', text: `${getTimestamp()}: [Check] ffmpeg: E:\\APPD\\ffmpeg\\bin\\ffmpeg.exe`, delay: 300 },
                { type: 'output', text: `${getTimestamp()}: [Check] ffprobe: E:\\APPD\\ffmpeg\\bin\\ffprobe.exe`, delay: 300 },
                { type: 'success', text: `${getTimestamp()}: [WebUi] WebUi Local Panel Url: http://127.0.0.1:6099/webui?token=napcat`, delay: 600 },
                { type: 'output', text: `${getTimestamp()}: ç­‰å¾…ç½‘ç»œè¿æ¥...`, delay: 400 },
                { type: 'success', text: `${getTimestamp()}: ç½‘ç»œå·²è¿æ¥`, delay: 500 },
                { type: 'output', text: `${getTimestamp()}: æ²¡æœ‰ -q æŒ‡ä»¤æŒ‡å®šå¿«é€Ÿç™»å½•ï¼Œå°†ä½¿ç”¨äºŒç»´ç ç™»å½•æ–¹å¼`, delay: 600 },
                { type: 'output', text: `${getTimestamp()}: å¯ç”¨äºå¿«é€Ÿç™»å½•çš„ QQï¼š`, delay: 400 },
                { type: 'output', text: '1. 10001 Pony', delay: 200 },
                { type: 'warning', text: `${getTimestamp()}: è¯·æ‰«æä¸‹é¢çš„äºŒç»´ç ï¼Œç„¶ååœ¨æ‰‹Qä¸Šæˆæƒç™»å½•ï¼š`, delay: 500 },
                { type: 'output', text: `${getTimestamp()}:`, delay: 200 },
                { type: 'output', text: '', delay: 100 },
                { type: 'output', text: 'â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„', delay: 10 },
                { type: 'output', text: 'â–ˆ â–„â–„â–„â–„â–„ â–ˆâ–„â–„â–ˆâ–ˆâ–ˆâ–€â–„â–ˆâ–€ â–ˆâ–„    â–€â–ˆ â–„â–„â–„â–„â–„ â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆ â–ˆ   â–ˆ â–ˆ â–€â–ˆ â–„ â–ˆâ–€ â–€â–ˆ â–„â–ˆâ–„  â–ˆ â–ˆ   â–ˆ â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆ â–ˆâ–„â–„â–„â–ˆ â–ˆâ–„ â–„â–„â–€â–€â–ˆâ–„â–ˆâ–€â–€â–€â–€â–ˆ â–„ â–ˆ â–ˆâ–„â–„â–„â–ˆ â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–„â–„â–„â–„â–„â–„â–„â–ˆâ–„â–€â–„â–€â–„â–ˆ â–ˆ â–€ â–€ â–ˆ â–ˆâ–„â–ˆâ–„â–„â–„â–„â–„â–„â–„â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–„   â–€â–ˆâ–„â–€ â–€â–ˆâ–ˆâ–ˆâ–ˆâ–€â–„â–ˆ  â–ˆâ–€â–„â–ˆâ–ˆâ–ˆâ–„â–€â–ˆâ–„â–„ â–€ â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–ˆâ–€â–ˆ â–€â–ˆâ–„â–€â–ˆâ–ˆâ–ˆâ–€â–€â–€â–„â–€â–ˆâ–ˆ â–ˆâ–ˆâ–„â–„â–„ â–ˆ â–€â–„â–ˆâ–„ â–„â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–ˆâ–„â–€â–„â–€â–„â–„â–€ â–„â–€ â–ˆâ–„â–ˆ â–€â–„ â–ˆâ–„â–ˆâ–€â–ˆâ–€â–„â–ˆâ–„â–„ â–€â–€â–ˆâ–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–€ â–ˆâ–€ â–„â–„â–ˆâ–€â–€â–€â–ˆ â–„â–ˆâ–ˆ â–ˆâ–ˆâ–„   â–ˆâ–ˆâ–€  â–„â–ˆ â–ˆâ–ˆâ–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–„â–ˆâ–€â–€ â–„â–„â–„ â–ˆâ–€â–„â–€  â–€â–€ â–„â–ˆâ–€â–€  â–€      â–„ â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆ â–€â–€â–ˆâ–„â–„â–„â–€  â–€â–„ â–ˆâ–€ â–„â–€â–€â–€â–€â–„â–„â–€â–€  â–ˆâ–ˆ â–ˆâ–„â–€â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–€â–„â–„â–„â–ˆâ–„â–„â–„ â–€â–€â–„ â–ˆâ–€  â–„â–„â–€â–€ â–ˆ  â–„â–€â–„â–ˆâ–€â–„â–€â–€â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–ˆâ–€â–€â–ˆâ–ˆâ–ˆâ–„ â–€â–€â–€â–„â–„â–€ â–€ â–ˆâ–€â–ˆâ–„â–ˆâ–ˆ â–„â–„â–€â–€â–„â–€â–„ â–„â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–„â–ˆâ–ˆâ–ˆâ–„â–ˆâ–„â–ˆâ–€â–ˆâ–ˆâ–€ â–„â–ˆâ–„â–€â–„â–„ â–€    â–„â–„â–„ â–„â–ˆâ–ˆâ–„â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆ â–„â–„â–„â–„â–„ â–ˆâ–ˆâ–€  â–ˆâ–ˆâ–„â–ˆâ–€â–ˆâ–„ â–„ â–„  â–ˆâ–„â–ˆ â–€â–€â–ˆâ–ˆâ–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆ â–ˆ   â–ˆ â–ˆâ–€â–ˆâ–ˆâ–ˆâ–ˆ  â–€â–ˆâ–€â–„â–ˆâ–€â–„â–„  â–„â–„â–„â–„â–ˆ  â–„â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆ â–ˆâ–„â–„â–„â–ˆ â–ˆ â–„â–€â–€ â–ˆâ–€â–„â–€â–€â–€â–ˆâ–„â–ˆâ–„â–„â–€â–„ â–„â–€â–ˆâ–„â–„â–€â–ˆ', delay: 10 },
                { type: 'output', text: 'â–ˆâ–„â–„â–„â–„â–„â–„â–„â–ˆâ–„â–„â–„â–ˆâ–„â–ˆâ–ˆâ–ˆâ–ˆâ–„â–„â–„â–„â–„â–ˆâ–ˆâ–ˆâ–„â–ˆâ–ˆâ–ˆâ–„â–„â–ˆâ–ˆâ–ˆ', delay: 10 },
                { type: 'output', text: '', delay: 200 },
                { type: 'output', text: 'äºŒç»´ç è§£ç URL: https://txz.qq.com/p?k=duCOv1o3LaZvus*juSKLxoo9Ms-mtgCK&f=1600001604', delay: 400 },
                { type: 'output', text: 'å¦‚æœæ§åˆ¶å°äºŒç»´ç æ— æ³•æ‰«ç ï¼Œå¯ä»¥å¤åˆ¶è§£ç urlåˆ°äºŒç»´ç ç”Ÿæˆç½‘ç«™ç”ŸæˆäºŒç»´ç å†æ‰«ç ï¼Œä¹Ÿå¯ä»¥æ‰“å¼€ä¸‹æ–¹çš„äºŒç»´ç è·¯å¾„å›¾ç‰‡è¿›è¡Œæ‰«ç ã€‚', delay: 600 },
                { type: 'warning', text: `${getTimestamp()}: äºŒç»´ç å·²ä¿å­˜åˆ° C:\\napcat\\NapCat.34740.Shell\\versions\\9.9.19-34740\\resources\\app\\napcat\\cache\\qrcode.png`, delay: 800 },
                { type: 'output', text: '', delay: 500 },
                { type: 'success', text: 'âœ“ NapCat å¯åŠ¨å®Œæˆï¼Œç­‰å¾…æ‰«ç ç™»å½•...', delay: 1000 }
            ],
            macos: [
                { type: 'cmd', text: '$ brew install napcat', delay: 0 },
                { type: 'output', text: 'â†’ Updating Homebrew...', delay: 800 },
                {
                    type: 'progress',
                    text: 'æ›´æ–°è¿›åº¦',
                    delay: 100,
                    progress: {
                        total: 100,
                        current: 0,
                        speed: 5,
                        unit: '%'
                    }
                },
                { type: 'success', text: 'â†’ Homebrew updated', delay: 400 },
                { type: 'output', text: 'â†’ Downloading napcat-v4.8.90-darwin-x64.tar.gz', delay: 1000 },
                {
                    type: 'progress',
                    text: 'ä¸‹è½½è¿›åº¦',
                    delay: 100,
                    progress: {
                        total: 100,
                        current: 0,
                        speed: 4,
                        unit: '%'
                    }
                },
                { type: 'success', text: 'â†’ Download complete', delay: 500 },
                { type: 'output', text: 'â†’ Installing dependencies...', delay: 600 },
                {
                    type: 'progress',
                    text: 'å®‰è£…ä¾èµ–',
                    delay: 100,
                    progress: {
                        total: 100,
                        current: 0,
                        speed: 3,
                        unit: '%'
                    }
                },
                { type: 'output', text: 'â†’ Linking binary...', delay: 400 },
                { type: 'success', text: 'â†’ NapCat installed ğŸ‰', delay: 800 },
                { type: 'cmd', text: '$ napcat --login qq=123456 token=hello', delay: 1200 },
                { type: 'output', text: 'â†’ Initializing NapCat...', delay: 600 },
                { type: 'success', text: 'âœ“ NapCat started on ws://127.0.0.1:3000', delay: 800 }
            ]
        };


        // æ·»åŠ ç»ˆç«¯è¡Œ
        function addTerminalLine(text, className, isTyping = false) {
            const line = document.createElement('div');
            line.className = `terminal-line ${className}`;

            if (isTyping) {
                line.innerHTML = `<span class="typing-text">${text}</span>`;
            } else {
                line.textContent = text;
            }

            terminalContent.appendChild(line);
            terminal.scrollTop = terminal.scrollHeight;
            return line;
        }

        // åˆ›å»ºåŠ¨æ€è¿›åº¦æ¡
        function createAnimatedProgressBar(text, progressData) {
            const line = addTerminalLine(text, 'progress');

            const progressContainer = document.createElement('div');
            progressContainer.className = 'progress-container';

            const progressBar = document.createElement('div');
            progressBar.className = 'progress-bar';
            progressBar.style.width = '0%';

            const progressText = document.createElement('div');
            progressText.className = 'progress-info';
            progressText.innerHTML = `
                <span>${progressData.text}</span>
                <span class="progress-percent">0${progressData.unit}</span>
            `;

            progressContainer.appendChild(progressBar);
            progressContainer.appendChild(progressText);
            line.appendChild(progressContainer);

            return {
                line,
                update: (current) => {
                    const percent = Math.min(100, Math.round((current / progressData.total) * 100));
                    progressBar.style.width = `${percent}%`;
                    progressText.querySelector('.progress-percent').textContent =
                        `${current}${progressData.unit}`;
                },
                complete: () => {
                    progressBar.style.width = '100%';
                    progressText.querySelector('.progress-percent').textContent =
                        `${progressData.total}${progressData.unit}`;
                }
            };
        }

        // æ‰§è¡Œå®‰è£…è„šæœ¬
        function runInstallScript() {
            if (isInstalling) return;
            isInstalling = true;

            const script = installScripts[selectedPlatform];
            let index = 0;
            let activeProgressBar = null;

            function executeNextLine() {
                if (index >= script.length) {
                    cursor.style.display = 'none';
                    isInstalling = false;
                    terminalControls.style.display = 'flex';
                    return;
                }

                const line = script[index];
                index++;

                setTimeout(() => {
                    if (line.progress) {
                        // å¤„ç†è¿›åº¦æ¡
                        const progressBar = createAnimatedProgressBar('', {
                            text: line.text,
                            total: line.progress.total,
                            unit: line.progress.unit
                        });

                        activeProgressBar = progressBar;
                        let current = 0;
                        const speed = line.progress.speed || 1;

                        const progressInterval = setInterval(() => {
                            current += speed;
                            progressBar.update(current);

                            if (current >= line.progress.total) {
                                clearInterval(progressInterval);
                                progressBar.complete();
                                activeProgressBar = null;
                                executeNextLine();
                            }
                        }, 50);
                    } else {
                        // å¤„ç†æ™®é€šæ–‡æœ¬
                        const isCmd = line.type === 'cmd';
                        addTerminalLine(line.text, line.type, isCmd);

                        // å¦‚æœæ˜¯å¤šè¡Œè¾“å‡ºï¼Œå¯ä»¥åŒæ—¶æ˜¾ç¤º
                        if (line.multiLines) {
                            const multiLineContainer = document.createElement('div');
                            multiLineContainer.className = 'multi-line';

                            line.multiLines.forEach((text, i) => {
                                const lineElement = document.createElement('div');
                                lineElement.className = `terminal-line output`;
                                lineElement.style.setProperty('--line-index', i);
                                lineElement.textContent = text;
                                multiLineContainer.appendChild(lineElement);
                            });

                            terminalContent.appendChild(multiLineContainer);
                            terminal.scrollTop = terminal.scrollHeight;
                        }

                        executeNextLine();
                    }
                }, line.delay);
            }

            executeNextLine();
        }

        // é‡ç½®ç»ˆç«¯
        function resetTerminal() {
            terminalContent.innerHTML = '';
            cursor.style.display = 'inline-block';
            terminalControls.style.display = 'none';
        }

        // å¤åˆ¶ç»ˆç«¯å†…å®¹
        function copyTerminalContent() {
            const text = terminalContent.textContent;
            navigator.clipboard.writeText(text).then(() => {
                const originalText = copyBtn.textContent;
                copyBtn.textContent = 'å·²å¤åˆ¶!';
                setTimeout(() => {
                    copyBtn.textContent = originalText;
                }, 2000);
            });
        }

        // ç‚¹å‡»å®‰è£…æŒ‰é’®
        installBtn.addEventListener('click', () => {
            if (!selectedPlatform) {
                // æ˜¾ç¤ºå¹³å°é€‰æ‹©å™¨
                platformSelector.style.display = 'flex';
                installBtn.textContent = 'å¼€å§‹å®‰è£…';
                return;
            }

            terminal.style.display = 'block';
            terminal.scrollIntoView({ behavior: 'smooth' });

            // é‡ç½®ç»ˆç«¯
            resetTerminal();

            // å»¶è¿Ÿå¼€å§‹æ‰§è¡Œï¼Œè®©ç”¨æˆ·çœ‹åˆ°æ»šåŠ¨åŠ¨ç”»
            setTimeout(() => {
                runInstallScript();
            }, 500);
        });

        // å¹³å°é€‰æ‹©æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.platform-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„activeç±»
                document.querySelectorAll('.platform-btn').forEach(b => {
                    b.classList.remove('active');
                });

                // ä¸ºå½“å‰æŒ‰é’®æ·»åŠ activeç±»
                btn.classList.add('active');

                // è®¾ç½®é€‰ä¸­çš„å¹³å°
                selectedPlatform = btn.dataset.platform;

                // æ›´æ–°å®‰è£…æŒ‰é’®æ–‡æœ¬
                installBtn.textContent = `å®‰è£… ${btn.textContent} ç‰ˆæœ¬`;
            });
        });

        // é‡æ–°ä½“éªŒæŒ‰é’®
        restartBtn.addEventListener('click', () => {
            resetTerminal();
            runInstallScript();
        });

        // å¤åˆ¶æ—¥å¿—æŒ‰é’®
        copyBtn.addEventListener('click', copyTerminalContent);

        // ç¦æ­¢åŒæŒ‡ç¼©æ”¾
        document.addEventListener('gesturestart', function (e) {
            e.preventDefault();
        });

        // ç¦æ­¢åŒå‡»ç¼©æ”¾
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
    </script>
</body>

</html>
